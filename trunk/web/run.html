<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Google Maps JavaScript API v3 Example</title>

    <style type="text/css">
        html { height: 100% }
        body { height: 100%; margin: 0px; padding: 0px }
        #map_canvas { height: 100% }
    </style>

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/jquery.url.js"></script>


    <script type="text/javascript">
        tabfile = jQuery.url.param("tabfile");
        protocol=jQuery.url.attr('protocol');
        host=jQuery.url.attr('host');
        port=jQuery.url.attr('port');
        urlString = protocol + '://' + host + ':' + port + '/berkeleymapper/rest/v2/map';
        kmlfile = urlString + '?tabfile=' + tabfile;

        function initialize() {
        var myOptions = {
        mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        map = new google.maps.Map(document.getElementById('map_canvas'),
        myOptions);
        var ptLayer = new google.maps.KmlLayer(kmlfile);
        ptLayer.setMap(map);
        }
    </script>
</head>
<body onload="initialize()">
<div id="map_canvas"></div>
</body>
</html>